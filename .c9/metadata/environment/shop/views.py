{"filter":false,"title":"views.py","tooltip":"/shop/views.py","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":27,"column":0},"end":{"row":27,"column":2},"action":"insert","lines":["# "],"id":2},{"start":{"row":28,"column":0},"end":{"row":28,"column":2},"action":"insert","lines":["# "]},{"start":{"row":29,"column":0},"end":{"row":29,"column":2},"action":"insert","lines":["# "]},{"start":{"row":30,"column":0},"end":{"row":30,"column":2},"action":"insert","lines":["# "]},{"start":{"row":31,"column":0},"end":{"row":31,"column":2},"action":"insert","lines":["# "]},{"start":{"row":32,"column":0},"end":{"row":32,"column":2},"action":"insert","lines":["# "]},{"start":{"row":33,"column":0},"end":{"row":33,"column":2},"action":"insert","lines":["# "]},{"start":{"row":34,"column":0},"end":{"row":34,"column":2},"action":"insert","lines":["# "]},{"start":{"row":35,"column":0},"end":{"row":35,"column":2},"action":"insert","lines":["# "]},{"start":{"row":36,"column":0},"end":{"row":36,"column":2},"action":"insert","lines":["# "]},{"start":{"row":37,"column":0},"end":{"row":37,"column":2},"action":"insert","lines":["# "]},{"start":{"row":38,"column":0},"end":{"row":38,"column":2},"action":"insert","lines":["# "]},{"start":{"row":39,"column":0},"end":{"row":39,"column":2},"action":"insert","lines":["# "]},{"start":{"row":40,"column":0},"end":{"row":40,"column":2},"action":"insert","lines":["# "]}],[{"start":{"row":40,"column":57},"end":{"row":41,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["",""]},{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"insert","lines":["",""]},{"start":{"row":43,"column":0},"end":{"row":44,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":43,"column":0},"end":{"row":62,"column":0},"action":"insert","lines":["def product_detail(request, slug):","    form = QuantityForm()","    product = get_object_or_404(Product, slug=slug)","    related_products = Product.objects.filter(category=product.category).all()[:5]","","    context = {","        'title': product.title,","        'product': product,","        'form': form,","        'favorites': 'favorites',","        'related_products': related_products","    }","","    # Check only if user is logged in","    if request.user.is_authenticated:","        if request.user.likes.filter(id=product.id).exists():","            context['favorites'] = 'remove'","","    return render(request, 'product_detail.html', context)",""],"id":4}]]},"ace":{"folds":[],"scrolltop":331.9999947018092,"scrollleft":0,"selection":{"start":{"row":25,"column":0},"end":{"row":42,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":105,"state":"start","mode":"ace/mode/python"}},"timestamp":1763799138275,"hash":"1f15427529c5e328866c156dfbb983c44dd0cae7"}